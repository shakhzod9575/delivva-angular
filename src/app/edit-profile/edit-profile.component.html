<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
<div class="page-border" data-wow-duration="0.7s" data-wow-delay="0.2s">
    <div class="top-border wow fadeInDown animated" style="visibility: visible; animation-name: fadeInDown;"></div>
    <div class="right-border wow fadeInRight animated" style="visibility: visible; animation-name: fadeInRight;"></div>
    <div class="bottom-border wow fadeInUp animated" style="visibility: visible; animation-name: fadeInUp;"></div>
    <div class="left-border wow fadeInLeft animated" style="visibility: visible; animation-name: fadeInLeft;"></div>
</div>
<div class="container mt-3">
    <div class="card p-3 text-center">
        <div class="d-flex flex-row justify-content-center mb-3">
            <div class="image">
                <img src="{{newPhotoUrl}}" class="circle-image">
                <span>
                    <i class='bx bxs-camera-plus' (click)="openFileInput()"></i>
                    <input type="file" style="display: none" #fileInput (change)="onFileSelected($event)">
                </span>
            </div>
            <div class="d-flex flex-column ms-3 user-details">
                <h4 style="text-align: left;" class="mb-0">{{userData.firstName}} {{userData.lastName}}</h4>
                <div *ngIf="userRole != 'ROLE_ADMIN'" class="ratings"> <span>{{rating.rating}}</span> <i class='bx bx-star ms-1'></i> </div>
                <span>{{userData.email}}</span>
            </div>
        </div>
        <h4 style="margin-bottom: 0;">Edit Profile</h4>
        <div class="row" style="padding-top: 0; padding-bottom: 0;">
            <div class="col-md-6">
                <div class="inputs"> <label>First Name</label> <input [(ngModel)]="newFirstName" class="form-control" type="text"
                        placeholder="First Name"> 
                </div>
            </div>
            <div class="col-md-6">
                <div class="inputs"> <label>Last Name</label> <input class="form-control" type="text"
                        placeholder="Last Name" [(ngModel)]="newLastName"> 
                </div>
            </div>
            <div class="col-md-6">
                <div class="inputs"> <label>Username</label> <input class="form-control" type="text"
                        placeholder="Username" [(ngModel)]="newUsername"> 
                </div>
            </div>
            <div class="col-md-6">
                <div class="inputs"> <label>Phone Number</label> <input class="form-control" type="text"
                        placeholder="Phone number" [(ngModel)]="newPhoneNumber"> 
                </div>
            </div>
        </div>
        <div class="mt-3 gap-2 d-flex justify-content-end"> <button class="px-3 btn btn-sm btn-outline-primary"
                routerLink="/profile">Cancel</button> <button [disabled]="!validateAll()" class="px-3 btn btn-sm btn-primary" (click)="saveChanges()">Save</button> 
        </div>
    </div>
</div>